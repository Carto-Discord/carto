name: pr-checks

on: pull_request

jobs:
  build:
    uses: carto-discord/carto/.github/workflows/build.yml@main
    with:
      node-version: "14"
  lint:
    needs: build
    uses: carto-discord/carto/.github/workflows/lint.yml@main
  unit:
    needs: build
    uses: carto-discord/carto/.github/workflows/unit-test.yml@main
  integration:
    needs: build
    uses: carto-discord/carto/.github/workflows/integration-test.yml@main
    secrets:
      discord_token: ${{ secrets.BOT_TOKEN }}
